# 流程引擎原理与实践



# 第一部份：流程引擎基础

##  1 引言

### 1.1 流程引擎的发展历史

### 1.2 流程引擎的应用场景

### 1.3 相关产品国内外发展现状

### 1.4 本书的内容和结构安排



## 2 概念

### 2.1 基础概念

### 2.2 进阶概念



## 3 流程建模和解析

### 3.1 流程建模语言发展概述

### 3.2 流程建模

#### 3.2.1 流程定义

#### 3.2.2 事件节点定义

#### 3.2.3 任务节点定义

#### 3.2.4 网关节点定义

### 3.3 生命周期

#### 3.3.1 任务的生命周期

#### 3.3.2 流程的生命周期

### 3.4 流程模型的解析

### 3.5 与BPMN的比较



# 第二部份：流程引擎实现


## 4 流程引擎的核心组件

### 4.1 WFMC工作流参考模型

### 4.2 任务调度机制

#### 4.2.1 DAG调度算法原理与实践

#### 4.2.2 开源Airflow DAG调度算法剖析

#### 4.2.3 FSM调度算法原理与实践

#### 4.2.4 开源OSWorkflow FSM调度算法剖析

#### 4.2.5 Petri网调度算法原理与实践

#### 4.2.6 开源YAWL Petri网调度算法剖析

### 4.3 工作流模式-控制流模式

### 4.4 资源调度机制-资源模式

### 4.5 数据管理机制-数据模式

### 4.6 异常处理机制-异常处理模式

### 4.7 引擎执行模式



## 5 事件驱动机制

### 5.1 事件驱动架构

### 5.2 基于Redis的轻量级综合实践

### 5.3 基于Kafka的高性能综合实践





## 6 核心表结构与接口设计

### 6.1 核心表结构

### 6.2 核心接口



## 7 权限系统设计

### 7.1 ACL权限模型

### 7.2 RBAC权限模型

### 7.3 ABAC权限模型

### 7.4 PERM权限模型

### 7.5 Casbin框架应用实践

#### 7.5.1 Casbin的ACL实现

#### 7.5.2 Casbin的RBAC实现

#### 7.5.3 Casbin的ABAC实现

#### 7.5.4 Casbin综合实践



## 8 分布式Crontab任务调度

### 8.1 cron表达式介绍

### 8.2 etcd基础操作

### 8.3 master-worker架构



# 第三部份：流程引擎进阶



## 9 流程分析

### 9.1 控制流视角

### 9.2 数据视角

### 9.3 资源视角



## 10 云原生工作流

### 10.1 k8s上部署工作流原理

### 10.2 k8s上运行工作流任务原理

### 10.3 k8s上工作流任务运行综合实践



## 11 多引擎分布式系统实现

### 11.1 系统架构

### 11.2 分布式系统的基础理论

### 11.3 高并发与高性能

> 水平拓展

#### 11.3.1 数据库优化技术

#### 11.3.2 全局唯一ID生成器

#### 11.3.3 缓存技术

#### 11.3.4 异步化技术

> 垂直拓展

#### 11.3.5 池化技术

#### 11.3.6 Linux参数优化

### 11.4 高可用与稳定性

#### 11.4.1 限流

#### 11.4.2 降级和熔断

#### 11.4.3 故障转移

#### 11.4.4 分布式锁



